@section Styles{
    <style>
            .author.card:hover {
                transform: scale(1.05);
                box-shadow: 0 10px 20px rgba(0,0,0,.12), 0 4px 8px rgba(0,0,0,.06);
            }
    </style>
}

@{
    ViewData["Title"] = "My Pages";
}

<h1 class="h1 fw-bold">Hi, @User.Identity.Name</h1>
<div class="row justify-content-between">
    <div class="col-lg-7 d-grid gap-2 me-0">
        <div class="row mb-3">
            <span class="fs-6 fw-bold text-uppercase text-black-50">Overview</span>
            <div class="row rounded-1 border border-1 g-3 pb-2">
                <div class="col-md-6 p-3 border-end">
                    <div class="row g-2">
                        <div class="col-2"><h2><i class="bi bi-people-fill"></i></h2></div>
                        <div class="col-10">
                            <span class="row fw-bold fs-3">0</span>
                            <span class="row text-black-50">active patrons</span>
                            <span class="row btn-link">View relationship manager</span>
                        </div>
                    </div>
                    
                </div>
                <div class="col-md-6 p-3" style="height:100px">
                    <div class="row g-2">
                        <div class="col-2"><h2><i class="bi bi-cash-stack"></i></h2></div>
                        <div class="col-10">
                            <span class="row fw-bold fs-3">$0</span>
                            <span class="row text-black-50">per month</span>
                            @Html.ActionLink("View earnings dashboard","Earnings", "Dashboard", null,  htmlAttributes: new { @class="btn-link row" })
                            @*<a src="@Url.Action("Earnings","Dashboard")" class="row btn-link">View earnings dashboard</a>*@
                        </div>
                    </div>
                    
                </div>
            </div>
        </div>
        <div class="row mb-3">
            <span class="fs-6 fw-bold text-uppercase text-black-50">Next Steps</span>
            <div class="row rounded-1 border border-1 p-3">
                <h4><i class="bi bi-lightbulb"></i>Need ideas for a post?</h4>
                <div class="col-md-6">
                    <ul>
                        <li>
                            <a class="btn-link">Lorem ipsum dolor sit amet.</a>
                        </li>
                        <li>
                            <a class="btn-link">Lorem ipsum dolor sit amet.</a>
                        </li>
                        <li>
                            <a class="btn-link">Lorem ipsum dolor sit amet.</a>
                        </li>
                        <li>
                            <a class="btn-link">Lorem ipsum dolor sit amet.</a>
                        </li>
                        <li>
                            <a class="btn-link">Lorem ipsum dolor sit amet.</a>
                        </li>
                        <li>
                            <a class="btn-link">Lorem ipsum dolor sit amet.</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="row mb-3">
            <div class="row rounded-1 border border-1 p-3 gap-1">
                <h4><i class="bi bi-lightbulb"></i>Ideas for promoting on social media</h4>
                <span class="text-secondary">
                    To help you build your audience and get your amazing works out to more people, here are 8 quick tips for posting on social media.
                </span>
                <button class="col col-3 btn btn-outline-secondary btn-sm rounded rounded-pill">Get Examples</button>
            </div>
        </div>
    </div>
    <div class="col-lg-5">
        <span class="fs-6 fw-bold text-uppercase text-black-50">Recent activity</span>
        <div class="card mb-2">
            <div class="card-body">
                <h5 class="card-title">Special title treatment</h5>
                <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
                <a href="#" class="btn btn-primary">Go somewhere</a>
            </div>
        </div>
        @*<div class="row mb-2">
            <h5 class="h5 text-black-50">RECENT ACTIVITY</h5>
            <div class="card"></div>
            <div class="row rounded-1 border border-1 p-3">
                <div class="col-md-6"></div>
                <div class="col-md-6"></div>
            </div>
        </div>*@
        <div class="card">
            <p class="text-uppercase fw-bold fs-6 card-header bg-white">
                Recent posts
            </p>
            <div class="card-body">
                <h5 class="card-title">Special title treatment</h5>
                <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
                <a href="#" class="btn btn-primary">Go somewhere</a>
            </div>
        </div>
    </div>
</div>

<hr />

<div id="pages" class="row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4">
    <div class="col">
        <div class="author card h-100">
            <div class="card-body">
                <h5 class="card-title">Add new author page card</h5>
            
            </div>
        </div>
    </div>
</div>


@section AjaxSection{
    <script type="text/javascript">
        $(function () {
            $.post("@Url.Action("GetPages","Product")/", function (data) {
                let res = JSON.parse(data);
                if (res.length > 0) {
                    for (let i = 0; i < res.length; i++) {
                        $.post("@Url.Action("PageCardPartial","Manage")/", res[i], function (data) {
                            $("#pages").append(data);
                        });
                    }
                }
                else {
                    $("#pages").append('<a class="btn btn-lg btn-primary rounded rounded-pill">Create your first Author Page</a>');
                }
            });
        });
    </script>

 }